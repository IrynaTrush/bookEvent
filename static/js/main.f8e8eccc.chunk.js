(this.webpackJsonptestcodete=this.webpackJsonptestcodete||[]).push([[0],{119:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(7),o=a.n(r),l=(a(92),a(30)),i=a(11),s=a(157),u=a(153),m=a(155),p=a(156),d=a(70),f=a.n(d),E=a(120),b=Object(E.a)((function(){return{typographyStyles:{flex:1},iconStyles:{color:"#fff",padding:"0 40px",textDecoration:"none","&:hover":{transform:"scale(1.2)",fontSize:"18px",transition:"all 0.3s"}}}})),v=function(){var e=b();return c.a.createElement(u.a,{position:"static"},c.a.createElement(m.a,null,c.a.createElement(p.a,{className:e.typographyStyles},c.a.createElement(l.b,{to:"/bookEvent/",className:e.iconStyles},"Home")),c.a.createElement(l.b,{to:"/bookEvent/bucket",className:e.iconStyles},c.a.createElement(f.a,null))))},h=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,{container:!0,direction:"column"},c.a.createElement(s.a,{item:!0},c.a.createElement(v,null)),c.a.createElement(s.a,{item:!0,container:!0},c.a.createElement(s.a,{item:!0,xs:0,sm:2}),c.a.createElement(s.a,{item:!0,xs:12,sm:8},e.children),c.a.createElement(s.a,{item:!0,xs:0,sm:2}))))},g=a(39),y=a(158),O=a(165),x=a(161),j=a(71),S=a.n(j),D=a(24),k=a(49),w=a.n(k),N=a(73),C=a(74).create({baseURL:"https://test-task-6a600.firebaseio.com"}),_=function(e){return C.post("/events.json",e)},T=function(){return C.get("/events.json")},A=function(e){return Object.keys(e).map((function(t){var a=e[t];return a.id=t,a}))},F=function(){return function(){var e=Object(N.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_PRODUCTS_REQUEST"}),e.prev=1,e.next=4,T();case 4:a=e.sent,n=A(a.data),console.log(n),t({type:"LOAD_EVENTS_SUCCESS",payload:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t({type:"LOAD_EVENTS_FAILED",payload:e.t0,error:!0});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},L=a(167),B=a(168),I=a(164),R=function(e){return e.homeReducer.events},U=Object(y.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}},container:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignItems:"center",padding:"100px 0"},textField:{width:"40%",marginBottom:40},simpleSelect:{width:"40%",marginBottom:40},selectEmpty:{marginTop:e.spacing(2)}}})),V=function(){var e=U(),t=Object(n.useState)(""),a=Object(g.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(""),s=Object(g.a)(l,2),u=s[0],m=s[1],p=Object(n.useRef)({date:new Date}),d=(p.current.date,Object(n.useState)(S()(p.current.date).format("YYYY-MM-DD"))),f=Object(g.a)(d,2),E=f[0],b=f[1],v=Object(n.useState)(!0),h=Object(g.a)(v,2),y=h[0],j=h[1],k=c.a.useState(""),w=Object(g.a)(k,2),N=w[0],C=w[1],T=Object(D.b)(),A=Object(i.f)(),V=Object(D.c)(R).map((function(e,t){return e.eventDate+e.time}));Object(n.useEffect)((function(){T(F()),V.includes(E+N)?(j(!0),alert("this time is reserved, please chose another hours")):j(!1)}),[E,N]);return c.a.createElement("form",{className:e.container,noValidate:!0,autoComplete:"off"},c.a.createElement(O.a,{id:"standard-basic",label:"Event",className:e.textField,value:r,onChange:function(e){return o(e.target.value)}}),c.a.createElement(O.a,{id:"standard-basic",label:"Description",className:e.textField,onChange:function(e){return m(e.target.value)},value:u}),c.a.createElement(O.a,{id:"date",label:"Date",type:"date",onChange:function(e){return b(e.target.value.valueOf())},className:e.textField,InputLabelProps:{shrink:!0}}),c.a.createElement(L.a,{id:"demo-simple-select-label"},"Time"),c.a.createElement(I.a,{className:e.simpleSelect,labelId:"demo-simple-select-label",id:"demo-simple-select",value:N,onChange:function(e){C(e.target.value)}},c.a.createElement(B.a,{value:16},"16:00"),c.a.createElement(B.a,{value:18},"18:00"),c.a.createElement(B.a,{value:20},"20:00")),c.a.createElement(x.a,{variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),T(function(e,t){return function(a){_(e).then((function(e){a({type:"ADD_EVENT_SUCCESS",payload:e}),t.push("/bookEvent/bucket")})).catch((function(e){a({type:"ADD_EVENT_FAILED",payload:e})}))}}({name:r,description:u,eventDate:E,time:N},A))},disabled:y},"Book event"))},W=a(162),Y=a(163),z=Object(y.a)({root:{width:"20%",textAlign:"center",margin:"20px 30px"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),J=function(){var e=z(),t=Object(D.b)(),a=Object(D.c)(R).map((function(t){return c.a.createElement(W.a,{className:e.root},c.a.createElement(Y.a,null,c.a.createElement(p.a,{variant:"h5",component:"h2"},t.name),c.a.createElement(p.a,{className:e.pos,color:"textSecondary"},t.description),c.a.createElement(p.a,{variant:"body2",component:"p"},t.eventDate),c.a.createElement(p.a,{variant:"body2",component:"p"},"".concat(t.time,":00"))))}));return Object(n.useEffect)((function(){t(F())}),[t]),c.a.createElement("div",{style:{padding:"50px 0",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-around"}},a)},M=function(){return c.a.createElement(J,null)},P=[{path:"/bookEvent/bucket",component:c.a.createElement(M,null)},{path:"/bookEvent/",component:c.a.createElement(V,null),exact:!0},{path:"*",component:function(){return c.a.createElement("div",null,"page not found 404")}}];var G=function(){return c.a.createElement(l.a,null,c.a.createElement(h,null,c.a.createElement(i.c,null,P.map((function(e){return c.a.createElement(i.a,{exact:e.exact,path:e.path,key:e.toString()},e.component)})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=a(35),Q=a(75),$=a(50),q={events:[]},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_EVENTS_SUCCESS":return console.log(t.payload),Object($.a)(Object($.a)({},e),{},{events:t.payload});default:return e}},X=Object(H.c)({homeReducer:K}),Z=Object(H.d)(X,Object(H.a)(Q.a));o.a.render(c.a.createElement(D.a,{store:Z},c.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},87:function(e,t,a){e.exports=a(119)},92:function(e,t,a){}},[[87,1,2]]]);
//# sourceMappingURL=main.f8e8eccc.chunk.js.map